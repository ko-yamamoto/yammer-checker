// Generated by CoffeeScript 1.4.0
var save_ignore;

$(function() {
  if (localStorage.ls_update_interval != null) {
    $("#update_interval").val(localStorage.ls_update_interval);
  }
  if (localStorage.ls_notification_interval != null) {
    $("#notification_interval").val(localStorage.ls_notification_interval);
  }
  if (localStorage.ls_notification_link != null) {
    $("#notification_link").val(localStorage.ls_notification_link);
  }
  $("#save_button").click(function() {
    var notification_interval, notification_link, update_interval;
    update_interval = $("#update_interval").val();
    notification_interval = $("#notification_interval").val();
    notification_link = $("#notification_link").val();
    localStorage.ls_update_interval = update_interval;
    localStorage.ls_notification_interval = notification_interval;
    localStorage.ls_notification_link = notification_link;
    return alert("save");
  });
  $("#save_ignore_button").click(function() {
    return save_ignore();
  });
  return $("#clear_ignore_button").click(function() {
    localStorage.ls_ignore_email = JSON.stringify({
      emails: []
    });
    return alert("clear");
  });
});

save_ignore = function() {
  var all_ignore, ignore_email;
  ignore_email = $("#ignore_email").val();
  if (ignore_email.length !== 0) {
    if (localStorage.ls_ignore_email != null) {
      all_ignore = JSON.parse(localStorage.ls_ignore_email);
      if (all_ignore.emails.length !== 0) {
        all_ignore.emails.push(ignore_email);
      } else {
        all_ignore = {
          emails: []
        };
      }
      localStorage.ls_ignore_email = JSON.stringify(all_ignore);
    }
    return alert("save");
  }
};
